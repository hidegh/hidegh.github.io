<!DOCTYPE html>
<html lang="en-US">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <meta http-equiv="Cache-Control" content="max-age=3600, must-revalidate">
        <meta http-equiv="Pragma" content="no-cache">
        <meta http-equiv="Expires" content="-1">

        <title>The Seven Stages of Expertise in Software Engineering | Reflective Tech Consulting For Succesful Projects</title>
        <meta name="title" content="The Seven Stages of Expertise in Software Engineering | Reflective Tech Consulting For Succesful Projects">
        <meta name="description" content="Helping others with useful content">
        <meta name="keywords" content="posts,HR,classification,startups,team-setup,avoid-failures,entrepreneur,SME,Software Projects Done Right,Effective Software Solutions,On-hand Technical Leadership,Project Rescue,Fractional Leadership,Fractional CTO,Simple Approach,No Huge Upfront Design,Balanced Tactical and Strategic Approaches,Problem Finder,Digitalization,Consultation,Management,Team Management,Mentoring,Software Procurement,Software Architecture,Software Development,Software Best Practices">
        <meta name="author" content="Meilir Page-Jones | Balázs HIDEGHÉTY">
        <meta name="robots" content="index, follow">

        <link rel="canonical" href="https://reflectivetechconsulting.com//post/the-seven-stages-of-expertise-in-software-engineering/">
        <link rel="shortcut icon" type="image/png" href="/assets/reflection logo.ico">
        
        <link rel="preconnect" href="cdnjs.cloudflare.com">
        <link rel="dns-prefetch" href="cdnjs.cloudflare.com">

        <link rel="preconnect" href="cdn.jsdelivr.net">
        <link rel="dns-prefetch" href="cdn.jsdelivr.net">

        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css" integrity="sha512-xh6O/CkQoPOWDdYTDqeRdPCVd1SpvCA9XXcUnZS2FmJNp1coAFzvtCN9BmamE+4aHK8yyUHUSCcJHgXloTyT2A==" crossorigin="anonymous" referrerpolicy="no-referrer" />

        
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" integrity="sha256-2TnSHycBDAm2wpZmgdi0z81kykGPJAkiUY+Wf97RbvY=" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.min.js" integrity="sha256-gOQJIa9+K/XdfAuBkg2ONAdw5EnQbokw/s2b8BqsRFg=" crossorigin="anonymous"></script>

        <script src="/assets/js/custom/clipboard-copy.js"></script>

        <script src="https://cdn.jsdelivr.net/npm/ejs@3.1.6/ejs.min.js" integrity="sha256-mOsgtygNfXBUPc/+cc19yr+g0jieqYOgRL5xFD2sC0Y=" crossorigin="anonymous"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/lunr.js/2.3.9/lunr.min.js" integrity="sha512-4xUl/d6D6THrAnXAwGajXkoWaeMNwEKK4iNfq5DotEbLPAfk6FSxSP3ydNxqDgCw1c/0Z1Jg6L8h2j+++9BZmg==" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/he/1.2.0/he.min.js" integrity="sha512-PEsccDx9jqX6Dh4wZDCnWMaIO3gAaU0j46W//sSqQhUQxky6/eHZyeB3NrXD2xsyugAKd4KPiDANkcuoEa2JuA==" crossorigin="anonymous"></script>
        
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/themes/prism-okaidia.min.css" integrity="sha512-mIs9kKbaw6JZFfSuo+MovjU+Ntggfoj8RwAmJbVXQ5mkAX5LlgETQEweFPI18humSPHymTb5iikEOKWF7I8ncQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />

        <link rel="stylesheet" href="/assets/css/main.css" />

        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jarallax@2.0.4/dist/jarallax.css" integrity="sha256-/a0I9OFWuIXZRhqSuqIj8g0NUYSID+mwuyOuuFZb12A=" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/jarallax@2.0.4/dist/jarallax.min.js" integrity="sha256-uCknJLYMrtYTPwl8PwQnFj6T6Hck2oSGEZLhMi1BRvU=" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/jarallax@2.0.4/dist/jarallax-video.min.js" integrity="sha256-zYuE44YyKYv3Y4xv38UkxBY4jFCzAmAxwJ2nfRj16WI=" crossorigin="anonymous"></script>
        <script>
            function InitParallax() {
                jarallax(document.querySelectorAll('.jarallax'), {
                    speed: 0.2, 
                    disableVideo: /iPad|iPhone|iPod|Android/
                });
            }
        </script>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/typed.js/2.0.12/typed.min.js" integrity="sha512-3J8teBiHrSyaaRBajZyIEtpDsXdPq1gsznKWIVb5CnorQuFhjWGhWe54z8YNnHHr7MZuExb9m5kvf964HiT1Sw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <script>
            function InitTyped() {
                // sample:
                // <span class="text-success">ever created for
                //   <span data-typed='{"strings": ["developers.", "founders.", "designers."]}'></span>
                //   <span class="typed-cursor typed-cursor--blink" aria-hidden="true">|</span>
                // </span>
                document.querySelectorAll("[data-typed]").forEach(e => {
                    const t = {
                        typeSpeed: 40,
                        backSpeed: 10,
                        backDelay: 2e3,
                        loop: true,
                        replaceBaseText : true, /* future feature */
                        autoInsertCss: true,
                        ...e.dataset.typed ? JSON.parse(e.dataset.typed) : {}
                    };

                    var typed = new Typed(e, t);
                });
            }         
        </script>

        
        <script src="https://cdn.jsdelivr.net/npm/wowjs@1.1.3/dist/wow.min.js" integrity="sha256-gHiUEskgBO+3ccSDRM+c5+nEwTGp64R99KYPfITpnuo=" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css" integrity="sha256-X7rrn44l1+AUO65h1LGALBbOc5C5bOstSYsNlv9MhT8=" crossorigin="anonymous">
        <script>
            function InitAOS() {
                new WOW({ animateClass: 'animate__animated' }).init();
            }
        </script>

        <script src="https://cdn.jsdelivr.net/npm/@srexi/purecounterjs/dist/purecounter_vanilla.js"></script>
        <script>
            function InitCounters() {
                new PureCounter();
            }
        </script>
        
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox@3.2.0/dist/css/glightbox.min.css" integrity="sha256-bT9i1NF5afnHDpQ4z2cQBHJQGehoEj8uvClaAG+NXS0=" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/glightbox@3.2.0/dist/js/glightbox.min.js" integrity="sha256-A9/h+86SqfF/zRoVASE72CDQUKsIXDOEGasGo2MclFk=" crossorigin="anonymous"></script>
        <script>
            function InitLightbox() {
                GLightbox({});
            }
        </script>

        
    </head>
    <body class="fit-height">

        <!-- cookie consent script -->
        <!--
NOTE:
    ConsentStatus.enabled is set if no cookie consent is required (globals.cookieConsent.required)...
    ...otherwise ConsentStatus.default is the default value until consent is not given or denied!
-->
<script>
    const CookieConsent = {

        StatusEnum: {
            "default": "default",
            "enabled": "enabled",
            "disabled": "disabled"
        },

        loadScripts: function (requireConsent, consentUrl) {
            if (requireConsent) {
                // scripts managed based on consent status
                this._initializeCookieConsent(consentUrl);
            } else {
                // all scripts enabled
                this._enableCookies();
            }
        },

        getStatus() {
            return localStorage.cookies ?? this.StatusEnum.default;
        },

        _setStatus(value) {
            const changed = this.getStatus() != value;
            localStorage.cookies = value;
            if (changed) window.location.reload();
        },

        _defaultCookies: function () {
            console.log('default cookies');
            this._setStatus(this.StatusEnum.default);
        },

        _enableCookies: function () {
            console.log('enabled cookies');
            this._setStatus(this.StatusEnum.enabled);
        },

        _disableCookies: function () {
            console.log('disabled cookies');
            this._setStatus(this.StatusEnum.disabled);
        },

        _initializeCookieConsent: function (consentUrl) {

            const me = this;

            window.cookieconsent.initialise({
                "palette": {
                    "popup": {
                        "background": "#aa0000",
                        "text": "#ffdddd"
                    },
                    "button": {
                        "background": "#ff0000"
                    }
                },
                "theme": "edgeless",
                "position": "bottom-right",
                "type": "opt-in",
                "content": {
                    "message": "This website uses cookies to ensure you get the best experience here.",
                    "href": consentUrl
                },

                onInitialise: function (status) {
                    console.log(`cc - onInitialise, status: ${status}`);

                    var type = this.options.type;
                    var didConsent = this.hasConsented();
                    
                    if (type == 'opt-in' && didConsent) {
                        me._enableCookies();
                    }
                    else if (type == 'opt-out' && !didConsent) {
                        me._disableCookies();
                    }
                    else {
                        me._defaultCookies();
                    }
                },

                onStatusChange: function (status, chosenBefore) {
                    console.log(`cc - onStatusChange, status: ${status}, chosenBefore: ${chosenBefore}`);

                    var type = this.options.type;
                    var didConsent = this.hasConsented();

                    if (type == 'opt-in' && didConsent) {
                        me._enableCookies();
                    }
                    if (type == 'opt-out' && !didConsent) {
                        me._disableCookies();
                    }
                },

                onRevokeChoice: function () {
                    // NOTE: this hook is called immediately after the revoke button is clicked and removes previous answers
                    console.log(`cc - onRevokeChoice`);

                    var type = this.options.type;

                    if (type == 'opt-in') {
                        me._disableCookies();

                        // NOTE: we need to reload page, so that we get rid of the loaded GA / Disqus scripts!
                        location.reload();
                    }
                    if (type == 'opt-out') {
                        me._enableCookies();
                    }
                },

                onPopupOpen: function () {
                    console.log(`cc - onPopupOpen`);
                },

                onPopupClose: function () {
                    console.log(`cc - onPopupClose`);
                }

            });

        }

    };
</script>


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/cookieconsent/3.1.1/cookieconsent.min.css" integrity="sha512-LQ97camar/lOliT/MqjcQs5kWgy6Qz/cCRzzRzUCfv0fotsCTC9ZHXaPQmJV8Xu/PVALfJZ7BDezl5lW3/qBxg==" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/cookieconsent/3.1.1/cookieconsent.min.js" integrity="sha512-yXXqOFjdjHNH1GND+1EO0jbvvebABpzGKD66djnUfiKlYME5HGMUJHoCaeE4D5PTG2YsSJf6dwqyUUvQvS0vaA==" crossorigin="anonymous"></script>
<script>
    const requireConsent = JSON.parse('true');
    const consentUrl = '/cookies.html';  
    CookieConsent.loadScripts(requireConsent, consentUrl);
</script>


        <header class="sticky-top">
            <nav id="navbar-main" class="navbar-main navbar navbar-expand-lg">

    <div class="container">

        <a class="navbar-brand d-flex align-items-center" href="/">
            <div class="d-flex flex-column">
                <img src="/assets/reflection logo.png" />
                <span class="navbar-brand-subtitle align-self-center">ReflectiveTechConsulting.Com</span>
            </div>
        </a>

        <div class="ms-auto mx-2"></div>

        <!-- standalone search bar activator (below navigation) -->
        <a type="button" role="button" class="btn border-0 me-2 d-lg-none"
            data-bs-toggle="collapse" data-bs-target="#blog-search-bar">
            <!-- d-sm-none = hide if above sm -->
            <i class="fa-solid fa-magnifying-glass"></i>
        </a>

        <button type="button" class="btn navbar-toggler"
            data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown"
            aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
            <!-- Using navbar-toggler fix in main.scss and FA icons instead of: <span class="navbar-toggler-icon"></span> -->
            <i class="fa-solid fa-bars"></i>
        </button>

        <div class="collapse navbar-collapse" id="navbarNavDropdown">

            <ul class="navbar-nav d-flex flex-row flex-wrap align-items-center bd-navbar-nav pt-2 py-sm-0 px-5 w-100">
               
                
                <!--
    The navigation menu should always use CURRENT www version links (for this there's no _v* segment) !
-->
<li class="nav-item col-6 col-lg-auto">
    <a class="nav-link default p-2" href="/"><i class="fa-solid fa-house"></i></a>
</li>

<li class="nav-item col-6 col-lg-auto">
    <a class="nav-link p-2" href="/www/#value-proposition">Services</a>
</li>

<li class="nav-item col-6 col-lg-auto">
    <a class="nav-link p-2" href="/www/projects">Projects & More</i></a>
</li>

<li class="nav-item col-6 col-lg-auto">
    <a class="nav-link p-2" href="/www/fcto">F-CTO</a>
</li>

<!--
<li class="nav-item col-6 col-lg-auto">
    <a class="nav-link p-2" href="/www/about-me">About Me</a>
</li>
-->

                <div class="ms-auto mx-2"></div>

                <li class="nav-item dropdown col-12 col-lg-auto">
                    <hr class="d-block d-lg-none" />
                    <a class="d-inline-flex nav-link p-2" href="/posts/1/">Posts</a>
                    <a class="d-inline-flex nav-link no-dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button" data-bs-hover="dropdown" data-bs-toggle="dropdown" aria-expanded="false">
                        <i class="fa-solid fa-angles-down"></i>
                    </a>
                    <ul class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                        <li><a class="dropdown-item" href="/tags">Tags</a></li>
                        <li><a class="dropdown-item" href="/categories">Categories</a></li>
                        <li><a class="dropdown-item" href="/series">Series</a></li>
                        <li><hr class="dropdown-divider"></li>
                        <li><a class="dropdown-item" href="/tag-cloud">Tags cloud</a></li>
                    </ul>
                </li>      

            </ul>

        </div>

        <!-- inline search-bar with same expand breakpoint as navigation -->
        <nav class="nav-search d-none d-lg-inline">
            <!-- hidden by def., visible (block) aft. size SM -->
            <div class="inline-input-group inline-text-right">
                <span class="inline-text"><i class="fa-solid fa-magnifying-glass"></i></span>
                <input type="text" class="blog-search-input form-control py-0" placeholder="Search...">
            </div>
        </nav>

    </div>

</nav>

<!-- 
standalone search bar (below navigation) with same breakpoint as navigation (shown on collapse)
d-sm-none = hide if above sm
-->
<nav class="nav-search-below d-lg-none collapse" id="blog-search-bar">
    <div class="container">
        <div class="p-3">
            <div class="inline-input-group inline-text-left">
                <span class="inline-text"><i class="fa-solid fa-magnifying-glass"></i></span>
                <input type="text" class="blog-search-input form-control" placeholder="Search...">
            </div>
        </div>
    </div>
</nav>
        </header>

        <main>
            
            

    <div class="layout layout-post">
     
        <div class="content-container container">

            <div class="hide-if-search-results-container-is-displayed row">

                <section class="article-section col-12 col-{{ asideBreak }}-{{ 12 - aside }} overflow-hidden">
                    <header></header>
                    <article>
                        

    
    
    
    <section class="d-flex justify-content-end align-items-center d-hide-if-empty">
        

<section class="share-wrapper">
    <span class="share-label text-body-secondary mr-1">Share post</span>
    <span class="share-icons">
        
               
        
            
                
                <a  href="https://www.linkedin.com/sharing/share-offsite/?url=/post/the-seven-stages-of-expertise-in-software-engineering/"
                    data-toggle="tooltip"
                    data-placement="top"
                    title="LinkedIn"
                    target="_blank" rel="noopener"
                    aria-label="LinkedIn"
                    >
                    <i class="fa-fw fa-brands fa-linkedin fa-fw"></i>
                </a>
            
        
            
        
            
                
                <a  href="https://twitter.com/intent/tweet?text=Share post&amp;url=/post/the-seven-stages-of-expertise-in-software-engineering/"
                    data-toggle="tooltip"
                    data-placement="top"
                    title="Twitter"
                    target="_blank" rel="noopener"
                    aria-label="Twitter"
                    >
                    <i class="fa-fw fa-brands fa-square-twitter fa-fw"></i>
                </a>
            
        
            
        
            
        
            
        
        
        <a href onclick="copyLink(); return false;" data-toggle="tooltip" data-placement="top" title="Copy link">
            <i class="fa-solid fa-link fa-fw small"></i>
        </a>
    </span>
</section>

<script>
    function copyLink(url) {

        if (!url || 0 === url.length)
            url = window.location.href;

        ClipboardCopy.copy(
            url,
            () => { alert("Link copied successfully!"); },
            (err) => { alert("Link copy failed! Error: ", err); },
        );
    }
</script>


    </section>
    
    <section class="article print-container">

        <section>
            <h1>The Seven Stages of Expertise in Software Engineering</h1>
            
        </section>
    
        <section class="taxonomy small d-xl-flex gap-3 pb-3">
<div class="d-flex">
    <div class="d-inline-block me-1">
        <a href="/categories"><i class="fa-regular fa-fw fa-folder-open text-body-secondary"></i></a>
    </div>
    <div class="d-inline-block">
        
        
        <a href="/category/hr/classification/1/" class="me-1">
                
            HR
                
             - Classification
            
        </a>
        
    </div>
</div>

<div class="d-flex">
    <div class="d-inline-block me-1">
        <a href="/tags"><i class="fa-solid fa-fw fa-tags text-body-secondary"></i></a>
    </div>
    <div class="d-inline-block">
        
        <a href="/tag/posts/1/" class="me-1">posts</a>
        
        <a href="/tag/hr/1/" class="me-1">HR</a>
        
        <a href="/tag/classification/1/" class="me-1">classification</a>
        
        <a href="/tag/startups/1/" class="me-1">startups</a>
        
        <a href="/tag/team-setup/1/" class="me-1">team-setup</a>
        
        <a href="/tag/avoid-failures/1/" class="me-1">avoid-failures</a>
        
        <a href="/tag/entrepreneur/1/" class="me-1">entrepreneur</a>
        
        <a href="/tag/sme/1/" class="me-1">SME</a>
        
    </div>
</div>
</section>

        <section class="small pb-3">
            <div><span class="text-body-secondary">Posted</span> Apr 25, 2023</div>
            <div class="d-xl-flex justify-content-start gap-3">
                <div><span class="text-body-secondary">By</span> Meilir Page-Jones | Balázs HIDEGHÉTY</div>
                <div class="ms-auto">12 min <span class="text-body-secondary">reading time</span></div>
            </div>
        </section>

        <hr class="m-1" />

        <section class="pb-3">
            
            <p>This article is still <strong>relevant for any startup or company involved in software development</strong>. It contains useful informations - just like “Clean Code” by Robert C Martin - <strong>details within this article are timeless</strong>.</p>
<p>I first came across this article around 2016, when I noticed a large <strong>disparity between the usual junior-mid-senior scaling</strong> of developers. This scaling system, unlike others, is <strong>universal</strong>, easy to understand, and <strong>the bear hunting analogy</strong> used in the original article by Meilir Page-Jones makes it a <strong>humorous and enjoyable read</strong>.</p>
<p>Since then, the original page has been taken down (an archive can be found <a target="_blank" href="https://archive.ph/OErpt">here</a>). With the permission of the author, I am allowed to distribute the original article.</p>
<p>I made some slight changes by adding additional titles and styling. <strong>Since there is more behind the seven stages, it is likely to be referenced frequently.</strong></p>
<p><strong>We hope you enjoy reading this article and that it helps your next projects be successful.</strong></p>
<hr/>
<h1 id="the-seven-stages-of-expertise-in-swe" tabindex="-1">The Seven Stages of Expertise in SWE</h1>
<p>Meilir Page-Jones © Copyright 1998, Wayland Systems Inc. All rights reserved.</p>
<p>(In this article, an indefinite “he” means “he or she”.)</p>
<h2 id="intro" tabindex="-1">Intro</h2>
<p>For almost two decades we at Wayland Systems Inc. have toiled to transfer the latest developments in software engineering to practitioners at large and small companies around the world. However, until recently we didn’t do a very good job of quantifying the long-term field results of our efforts. So we decided to ask a question reminiscent of the rhetoric of Ed Koch (the former mayor of New York City): “How’re we doin’?”</p>
<p>We surveyed some of our clients to whom we’d provided education and consulting over the years and discovered an interesting but very disturbing fact. Over 50% of the shops into which we’d introduced Software Engineering techniques had either abandoned the use of the techniques or had let their band of active practitioners shrink to a dwindling core of diehards. <strong>What was going wrong here?</strong></p>
<p>We turned to self-examination and reviewed our courses and consulting practices. But, whatever the problem was, it didn’t seem limited to Wayland Systems: Informal discussions with our competitors revealed that they too were having similar problems. <strong>The attrition rate across our whole industry was painfully high.</strong></p>
<h2 id="factors-affecting-productivity" tabindex="-1">Factors Affecting Productivity</h2>
<p>External examination revealed several factors at work, many of which were to do with corporate management habits. Examples of these were:</p>
<ul>
<li>unrealistic management expectations</li>
<li>a lack of commitment to quality</li>
<li>an obsession with coding (which we termed WIMP — “Why isn’t Marvin Programming?” — management)</li>
<li>pernicious deadlines</li>
<li>and a misallocation of skills to tasks</li>
</ul>
<p>Other factors included: engineers’ resistance to change; engineers’ reluctance to participate in team approaches; and the then-unavailability of useful CASE tools.</p>
<p>The above factors were significant and worthy of articles in their own right. However, there was another factor, which is more important and fundamental than the others. <strong>This factor is the way that people are able to absorb sophisticated new techniques and then to apply them to their work</strong> — in other words the stages of expertise through which we all pass as we learn and use new and powerful disciplines.</p>
<p><strong>At first we were aware only that there were two types of person: novice and expert.</strong> That was hardly earth-shattering news. However, further research revealed that there are actually seven stages of expertise through which a person may pass on the journey from total ignorance to world-class knowledge. With devastating acumen we numbered these seven stages Stages 1 through 7. (We also gave them names: Innocent, Exposed, Apprentice, Practitioner, Journeyman, Master and Expert.) <strong>As I’ll discuss below, these seven stages have a deep impact on the successful — or otherwise — introduction of software engineering into an organization.</strong></p>
<p>A participant at a conference asked me how universal these seven stages are.</p>
<ul>
<li>“Very universal,” I answered.</li>
<li>“You mean that I could even apply them to the skill of bear-hunting?” he retorted unexpectedly.</li>
<li>“Yes,” I said.</li>
</ul>
<p>So, if you’ll bear with me, I should like to illustrate the Seven Stages of Expertise with reference to hunting (although I’m most definitely not a fan of such an activity). Following that illustration I’ll outline the application of the Seven Stages to our own business of Software Engineering.</p>
<h2 id="the-7-stages-in-bear-hunting" tabindex="-1">The 7 Stages in Bear-Hunting</h2>
<p><strong><u>Stage 1: Innocent</u></strong>
— A Stage-1 person has never seen or heard of bears. It would not occur to a Stage-1, if he encountered a bear, that the bear could be hunted. Neither would he realize that a bear is a potential source of danger.</p>
<p><strong><u>Stage 2: Exposed</u></strong>
— A Stage-2 person has seen an occasional bear and has read articles in airline magazines suggesting that bears may be hunted. Moreover, a Stage-2 probably has friends that have hunted bears and has learned some desultory but intriguing facts about bears and their habits. He is motivated to learn more.</p>
<p><strong><u>Stage 3: Apprentice</u></strong>
— A Stage-3 has attended a 5-day seminar on bear hunting. During this seminar, the participants form into teams of three or four and practice hunting very small bears under the ever-watchful eye of the instructor. After a few interim setbacks, by Friday afternoon all the teams have successfully hunted their bears. They fill out evaluation forms attesting that “bear hunting is very useful and relevant to my job.” However, they are barely prepared for the world of real bears.</p>
<p><strong><u>Stage 4: Practitioner</u></strong>
— The Stage-4, having completed formal bear-hunting education, is full of confidence. He’s ready to transcend the minuscule bears of the 5-day workshop and go out for real bears, larger bears, fierce bears. He’s ready for Ursa Major. His manager is also keen to send him out with the latest bear-hunting techniques because the users want fur and they want it yesterday. Unfortunately, in the resulting scramble the budding bear hunter may be sent out without a map and with the wrong calibre arrow in his longbow. In the heat of ursine confrontation, the Stage-4 may also forget or misinterpret his classroom instruction and precipitate disaster. <strong>It’s typical that some Stage-4s get some bears; but it’s also typical that some bears get some Stage-4s.</strong></p>
<p><strong><u>Stage 5: Journeyman</u></strong>
— The Stage-5 has survived the traumas of Stage-4 and has bear hunting down cold. The Stage-5 uses modern bear-hunting techniques naturally and automatically; in fact, he can’t imagine how he ever got along without them. He is accurate and productive: The Steering Committee merely points out the bear and he hunts it within both budget and deadline. <strong>The Stage-5 is the exemplary modern hunter that salespeople of bear-hunting seminars refer to in their brochures.</strong></p>
<p><strong><u>Stage 6: Master</u></strong>
— Stage-6 bear hunters have internalised not only the mechanics of bear hunting but also the principles underlying the techniques. Stage-6s know more than rules: They know why the rules exist and even when it’s permissible to break them. For example, a Stage-3 or 4 may stand upwind of a bear accidentally and scare off the bear. However, a Stage-6 may know that by wearing Yogi-Spray Deodorant he can stand upwind without being detected and can thus surprise the bear from an unexpected quarter. <strong>Because of their deep knowledge, Stage-6s are very capable of training others in hunting techniques.</strong></p>
<p><strong><u>Stage 7: Researcher</u></strong>
— Stage-7s are asked to write books and give talks at bear-hunting user groups. They are also engaged in extending and generalizing bear-hunting techniques to solve new problems. For example, a Stage-7 may extend bear hunting to work also on Big Foot or he may even develop the ultimate Yeti-Oriented Hunting Methodology.</p>
<h2 id="the-7-stages-in-swe" tabindex="-1">The 7 Stages in SWE</h2>
<p>Now let’s come back to the world of software engineering and see how the Seven Stages of Expertise apply to us.</p>
<h3 id="stage-1%3A-innocent" tabindex="-1">Stage 1: Innocent</h3>
<p>A Stage-1 may not have heard of Software-Engineering techniques. Or — more likely nowadays — he may be vaguely aware of their existence but may not see their possible relevance to his situation. Indeed, he may be only dimly aware that there are any software-development problems in his shop. You may find it incredible that Stage-1s could exist in the 1990s, but they do. And the reason stems from the way in which software complexity evolved.</p>
<p>Software became insidiously more and more complex in the 1970s and 1980s as users demanded more and more sophisticated systems be installed on the more and more powerful hardware that became available. Yet there was no sharp transition. The earth was not hit by a Complexity Asteroid in 1975 that suddenly made software three orders of magnitude more complex and cast our reptilian development techniques into extinction.</p>
<p>I call the way in which software complexity actually increased “Frog in the Pan.” This is because although a frog will jump out of a pan of hot water, a frog that is placed in a pan of cold water and slowly heated will fail to leap forth and will actually boil to death. The temperature gradient is so gradual that there will never be a point at which the frog declares: “Boy, it’s suddenly gotten hot in here! I think I should hop out.” (Before I get into deeper trouble from animal-rights folks, I hasten to add that this analogy is apocryphal. I’ve never tried the experiment and I don’t recommend that you do so either!)</p>
<p>Many Stage-1s are experiencing “Frog in the Pan” and are trying to tackle problems of the 1990s with approaches of the 1960s and 1970s, without realizing that the problems they’re facing are the very ones that modern Software-Engineering techniques were created to alleviate.</p>
<h3 id="stage-2%3A-exposed" tabindex="-1">Stage 2: Exposed</h3>
<p>Stage-2s have noticed that the water is getting decidedly warm, if not downright hot. So they are actively seeking Software-Engineering techniques that will get them out of the pan or at least reduce the heat. Stage-2s may survey magazines, confer with colleagues or attend one-day overviews of the techniques. Their interest level is high but their knowledge level is low, being limited to a few terms and definitions and not based on any practical Software-Engineering experience.</p>
<h3 id="stage-3%3A-apprentice" tabindex="-1">Stage 3: Apprentice</h3>
<p>Stage-3s have attended one or two 5-day workshops on Software-Engineering techniques. In these workshops they tackled small but realistic case studies that resembled their own projects in miniature. The case studies provided valuable kinaesthetic reinforcement of the formal lecture material and were thus indispensable. However, the case studies’ apparent realism conveyed to the Stage-3 a confidence that is often unwarranted.</p>
<p>If a Stage-3 absorbs everything from a seminar, then <strong>he is minimally equipped to tackle a true, full-sized project in the corporate jungle</strong>. Usually, however, a Stage-3 does not grasp everything or has difficulty scaling the techniques up from a case study to a real project. You could say that most Stage-3s know just enough to be dangerous!</p>
<h3 id="stage-4%3A-practitioner" tabindex="-1">Stage 4: Practitioner</h3>
<p>The rite of passage to Stage-4 is the use of Software-Engineering techniques on at least one significant project. Achieving “Stage-4-hood” is for many people the most difficult transition of the six transitions between stages. The fledgling Stage-4 is asked to take untried (by him) techniques and apply them to a corporate project with the usual demonic cocktail of politics, deadlines and changing requirements. At the same time, he is attempting to recall what he learned in class and scale up the examples 10- or 100-fold. <strong>He continually needs consulting advice, without which he will encounter a series of minor setbacks or major failures.</strong> Since many people throw up their hands at this point and revert to their old mediocre but familiar ways, a large proportion of Stage-3s never make it to Stage-4. If an entire project is peopled with Stage-3s, then it’s highly likely that the project itself will fail and the Software-Engineering techniques will be publicly pilloried and then abandoned.</p>
<h3 id="stage-5%3A-journeyman" tabindex="-1">Stage 5: Journeyman</h3>
<p>Stage-5s have made it. Their experience of Software Engineering is “latched” in place and there is little risk of their reverting to the past. In the Stage-5 the Software Engineering techniques yield for the first time the productivity the marketing folks promised; and on each successive project a Stage-5 further hones his skill and enhances his productivity. <strong>A Stage-5 is self-sufficient - more often the source of Software-Engineering advice than its recipient.</strong></p>
<h3 id="stage-6%3A-master" tabindex="-1">Stage 6: Master</h3>
<p>The Stage-6 not only is an adept technician, but also possesses a profound methodological foundation. Beyond the “whats” and “hows”, the Stage-6 knows the “whys” of Software Engineering. This depth allows him sometimes to break a surface rule, while adhering to a more fundamental methodological principle. <strong>The Stage-6 is a good instructor because his theoretical and practical knowledge give him the wherewithal to tackle difficult student questions.</strong></p>
<h3 id="stage-7%3A-researcher" tabindex="-1">Stage 7: Researcher</h3>
<p>The Stage-7 is concerned with delivering the latest developments in Software Engineering to a wider audience, via books, articles and conference appearances. The Stage-7 looks out for flaws in contemporary Software-Engineering techniques and for consequent ways to improve the techniques. He also scans the horizon for new problems towards whose solution Software Engineering can be extended and generalized. The Stage-7 is at a methodological pinnacle.</p>
<h2 id="behind-the-seven-stages-(productivity%2C-starting-projects%2C-%E2%80%A6)" tabindex="-1">Behind the Seven Stages (Productivity, Starting Projects, …)</h2>
<p>These Seven Stages of Expertise are valuable in their own right. You might think about a Software-Engineering technique that you know and consider which of the stages you are in with respect to that technique. You may also decide what (if anything) you should do to progress to the next stage.</p>
<p>However, <strong>there are organizational implications behind the Seven Stages</strong>. Below I discuss four of these:</p>
<ul>
<li>The Productivity Curve</li>
<li>Pilot Projects</li>
<li>The Critical Consulting Core and Ephemeral Technology.</li>
</ul>
<h3 id="a.-the-productivity-curve" tabindex="-1">A. The Productivity Curve</h3>
<p>Vendors who sell Software-Engineering techniques do so by convincing management of their boon to productivity. Although vendors rarely say so explicitly — we at Wayland Systems never used to — they compare the productivity of Stage-5s to that of Stage-2s. Unfortunately, this presentation (see Fig. 1) is not a complete picture. Between Stage-3 and Stage-4 there’s a hair-raising “J-curve” of productivity (see Fig. 2), which represents the difficult rite of passage of the incipient Stage-4.</p>
<div class="d-flex flex-column flex-lg-row justify-content-center">
    <figure class="figure text-center">
        <img class="img-thumbnail" src="/post/the-seven-stages-of-expertise-in-software-engineering/productivity-curve-by-managers.gif" alt="image" />
        <figcaption class="figure-caption">Fig. 1 - The productivity curve as perceived by managers</figcaption>
    </figure>
    <figure class="figure text-center">
        <img class="figure-img img-fluid rounded" src="/post/the-seven-stages-of-expertise-in-software-engineering/productivity-curve-in-reality.gif" alt="image" />
        <figcaption class="figure-caption">Fig. 2 - The actual productivity curve as observed in reality</figcaption>
    </figure>
</div>
<p>This J-curve has led more than one manager to abandon all hope in Software-Engineering techniques. Such a manager is not merely impatient; no one warned him of the J-curve and so when it manifests itself he can only assume that the much-touted Software-Engineering techniques were mere hokum.</p>
<p>A couple of our clients measured the length of time from Stages 3 to 5. Depending on the individual person, Stage-3 to Stage-4 took 6 to 18 months (about the length of a project or phase) and Stage-4 to Stage-5 took 18 to 36 months. (These times are very approximate because of the subjective nature of the stages.) Except for a few outstanding people, the shortest time from Software-Engineering seminar to exquisite software productivity is 24 months. When managers tell me: “We just can’t wait that long,” I retort: “The 2 years will pass anyway, whether you do anything or not. Act now!”</p>
<p>(By the way, notice that Stage-7s have lower project productivity than Stage-6s. This is because a portion of Stage-7s’ energy is directed away from the specific project and towards general methodological research.)</p>
<h3 id="b.-pilot-projects" tabindex="-1">B. Pilot Projects</h3>
<p>But the J-curve has a facet nastier than simple delay in productivity. This is the “Who will bell the cat?” problem. In the fable of that title, a group of mice that’d been persecuted by a cat decided to hang a bell around the cat’s neck that would warn them of its approach. All agreed that this was a wonderful idea … but there was one minor difficulty: None of the mice wanted to be the one to risk walking up to the sleeping cat to tie a bell around its neck. This impasse is known formally as the Technology Trap.</p>
<p>Most project managers would agree that Software-Engineering techniques are a Good Thing. But which of them with bone-crushing deadlines and axe-wielding users wants to be the first to experience the depths of the J-curve. (Me neither!) Thus many shopfuls of intelligent people appear to be dinosaurs because the Technology Trap holds them in the 1970s.</p>
<p>If “who will bell the cat?” is a problem, then I recommend that you try Software-Engineering techniques on a pilot project first. The pilot will uncover all manner of pitfalls that occur during the Stage-3/4 transition as well as problems in the techniques themselves. The pilot should be short (6 months) and should yield a non-critical system. You should learn as much as you can about applying the new technology from the pilot project; this is one project where the learning experience is more important than the end product.</p>
<p>A pilot project will not eliminate J-curves on subsequent projects. People will still have to go from Stage-3 to Stage-4. But the pilot will make future J-curves shallower, as some causes of the curve’s nadir are removed. Indeed, although the delivered system is the most important product of most projects, you should never forget the learning by-product of every project. Review what you discovered about doing projects when you complete each project and share that information with others. In that sense, treat every project as a pilot.</p>
<h3 id="c.-core-of-internal-%2F-external-consultants" tabindex="-1">C. Core of Internal / External Consultants</h3>
<p>One of the surest recipes for disaster is to staff a project with only Stage-3s. Yet many managers do exactly that, pushing a group of analysts through a seminar one week and letting them loose on a crucial project the next week. (Jerry Weinberg refers to this as the “Sheep Dip” approach.)</p>
<p><strong>Every project should have access to a Stage-5, or - better still — have a Stage-5 on the project team.</strong> Cultivate your own Stage-5s and Stage-6s in-house as part of your long-term staff-development policy and make them available to project teams. If you don’t yet have such people on board, then call in external consultants from Wayland Systems or one of our competitors. However, don’t become chronically reliant on external consultants, but instead continue to work on building up a pyramid of internal expertise with Stage-6s at the top that will ensure a lasting mastery of Software Engineering.</p>
<h3 id="d.-learning-latency-vs.-lifetime-of-technique" tabindex="-1">D. Learning Latency vs. Lifetime of Technique</h3>
<p>One manager of a major organization recently complained to me that by the time a critical mass of his people had learned a Software-Engineering technique that technique had been left behind in the mud of obsolescence by the relentless march of progress. Although there is, of course, some truth in this complaint, it is also true that “plus ça change, plus c’est la même chose.” If you buy a power drill to replace a manual drill, the deep principles of drilling will be largely unchanged. Similarly, most new Software-Engineering methods are basically founded on familiar underlying methodological principles (such as the principle of “Safe Deferral” or of “Partitioning to Minimize Interfaces”).</p>
<p>Develop a large “capacitance” of Stage-6s in your organization in order to smooth the apparent high-frequency ripples in technology. These people will be able quickly to absorb a new technique and to assess its applicability to the shop’s needs. They will also be able to compare and contrast the new technique to current techniques and to steady the transition from old to new, because many of the new ways of addressing software are simply refinements of ways already known to Stages 3, 4 and 5.</p>
<h2 id="some-recommendations" tabindex="-1">Some Recommendations</h2>
<ul>
<li><strong>Be aware of the Seven Stages of Expertise and their effects on productivity</strong> under a specific Software-Engineering technique. Reconcile your expectations for Software Engineering with the realities of the Seven Stages.</li>
<li>Take stock of where you are. Have each person assess his stage with respect to each Software-Engineering technique that your shop uses.</li>
<li>Have each person state their medium- and long-term goals for expertise in each relevant technique and suggest a plan for achieving those goals.</li>
<li>Establish similar medium- and long-term goals for the shop as whole. Determine the most appropriate blend of stages for the work that you do and set up a plan to achieve that blend.</li>
<li>Never attempt a <s>crucial</s> project solely with Stage-3s and below. <strong>Seed each project with Stage-4s and allow access to Stage-5s and 6s if possible.</strong> <strong>If you don’t have a Stage-5, beg, borrow, steal, buy, kidnap… one.</strong> External consultants are valuable as a short-term measure.</li>
<li><strong>Stabilize the effects of technological change by nurturing an in-house expertise (Stage-6) in fundamental methodological principles.</strong> Try to formulate shop strategies (as much as you can) in non-technological terms. Superimpose technology on to the strategy in order to yield tactics.</li>
<li>Have a mission that will never go away. For example, the mission of Wayland Systems is “Mastery in Software Engineering.” In other words, we seek to assist our clients in becoming self-sustaining at at least the Stage-6 level of Software Engineering. This mission will not evaporate for many decades yet, for software is becoming ever more complex and ever more critical. There will be much to learn — even for Stage-6s and Stage-7s — as we pass into the new century.</li>
</ul>

        </section>

    </section>
     

                    </article>
                    <div class="article-tail">
                        
    
    <hr class="m-1" />

    <section class="further-reading">
        <h5 class="text-body-secondary">Further Reading</h5>
        <div class="post-navigation related-posts dynamic-headings">
    
	<div class="card post-preview">
		
		<a class="stretched-link" href="/post/sample-post/"></a>

		<div class="card-body">

			<div class="card-text post-date">Dec 15, 2022</div>
			<div class="card-title post-title">Sample post</div>
			<div class="card-text post-content">
				<h1>This is just a <strong>sample</strong></h1>

			</div>
	
		</div>

	</div>	
    
</div>
        


<section class="post-navigation prev-next">
    <div class="btn-group btn-group-block d-flex">
        <a class="btn btn-sm btn-outline-secondary disabled" prompt="Older"><div>-</div></a>
        
        <a class="btn btn-sm btn-outline-primary" prompt="Newer" href="/post/sample-post/" title="Sample post"><div>Sample post</div></a>
        </div>
</section>

    </section>

    <section class="d-hide-if-empty">
        
        
<div id="giscus" class="giscus">
    <p class="font-italic text-center text-body-secondary small">
        Comments powered by <a href="https://giscus.app/">Gisqus</a> - function requires cookie consent (see drawer at the bottom right corner)!
    </p>
</div>
<script>
    const consentRequired = true;
    const consentGiven = !!(CookieConsent.getStatus() == CookieConsent.StatusEnum.enabled);
    
    if (consentRequired == false || consentGiven) {
        const script = document.createElement('script');        
        script.src = 'https://giscus.app/client.js';
        script.dataset.repo = 'hidegh/hidegh.github.io.giscus';
        script.dataset.repoId = 'R_kgDOJWRxCQ';
        script.dataset.category = 'Comments';
        script.dataset.categoryId = 'DIC_kwDOJWRxCc4CVvXT';
        script.dataset.mapping = 'pathname';
        script.dataset.strict = '1';
        script.dataset.reactionsEnabled = '1';
        script.dataset.emitMetadata = '0';
        script.dataset.inputPosition = 'top';
        script.dataset.theme = 'preferred_color_scheme';
        script.dataset.lang = 'en';
        script.setAttribute('crossorigin', 'anonymous');
        script.setAttribute('async', null);
        (document.head || document.body).appendChild(script);
    }
</script>


    </section>


                    </div>
                    <footer></footer>
                </section>

                <section class="aside-section d-none d-xl-flex col-xl-3">
                    <header></header>
                    <aside>

    <div class="sticky-container d-flex flex-column">

        <div non-sticky-heading></div>

        
        

        
        <section class="order-1 sticky p-3">
    <div class="heading">
        <div class="sticky-heading">Similar Articles</div>
        <a class="sticky-link"><i class="fa-solid fa-link"></i></a>
    </div>
    <div><ul class="aside-navigation related-posts">
    
    <li>
        
        <a href="/post/sample-post/">
            <span>Sample post</span>
        </a>
    </li>
    
</ul></div>
</section>

        
        <section class="order-2 sticky p-3">
    <div class="heading">
        <div class="sticky-heading">Recent Posts</div>
        <a class="sticky-link"><i class="fa-solid fa-link"></i></a>
    </div>
    <div>
<ul class="recent-posts">
    
    <li>
        <a href="/post/the-seven-stages-of-expertise-in-software-engineering/">
            <span>The Seven Stages of Expertise in Software Engineering</span>
        </a>
    </li>
    
    <li>
        <a href="/post/sample-post/">
            <span>Sample post</span>
        </a>
    </li>
    
</ul></div>
</section>

        
        <section class="order-3 sticky p-3">
    <div class="heading">
        <div class="sticky-heading">Tag Cloud</div>
        <a class="sticky-link"><i class="fa-solid fa-link"></i></a>
    </div>
    <div><div class="ps-3">
 
    <span style="font-size: 0.8em;">
        <a href="/tag/avoid-failures/1/">avoid-failures</a>
    </span>
 
    <span style="font-size: 0.8em;">
        <a href="/tag/classification/1/">classification</a>
    </span>
 
    <span style="font-size: 0.8em;">
        <a href="/tag/entrepreneur/1/">entrepreneur</a>
    </span>
 
    <span style="font-size: 0.8em;">
        <a href="/tag/hr/1/">HR</a>
    </span>
 
    <span style="font-size: 1.8em;">
        <a href="/tag/posts/1/">posts</a>
    </span>
 
    <span style="font-size: 0.8em;">
        <a href="/tag/samples/1/">samples</a>
    </span>
 
    <span style="font-size: 0.8em;">
        <a href="/tag/sme/1/">SME</a>
    </span>
 
    <span style="font-size: 0.8em;">
        <a href="/tag/startups/1/">startups</a>
    </span>
 
    <span style="font-size: 0.8em;">
        <a href="/tag/team-setup/1/">team-setup</a>
    </span>

</div></div>
</section>

        
        <section class="order-last sticky p-3">
    <div class="heading">
        <div class="sticky-heading">Table of Contents</div>
        <a class="sticky-link"><i class="fa-solid fa-link"></i></a>
    </div>
    <div><div class="text-nowrap overflow-hidden"><nav class="toc">
                <ol>
                    
                    <li><a href="#intro">Intro</a>
            		</li>

                    <li><a href="#factors-affecting-productivity">Factors Affecting Productivity</a>
            		</li>

                    <li><a href="#the-7-stages-in-bear-hunting">The 7 Stages in Bear-Hunting</a>
            		</li>

                    <li><a href="#the-7-stages-in-swe">The 7 Stages in SWE</a>
            
                <ol>
                    
                    <li><a href="#stage-1%3A-innocent">Stage 1: Innocent</a>
            		</li>

                    <li><a href="#stage-2%3A-exposed">Stage 2: Exposed</a>
            		</li>

                    <li><a href="#stage-3%3A-apprentice">Stage 3: Apprentice</a>
            		</li>

                    <li><a href="#stage-4%3A-practitioner">Stage 4: Practitioner</a>
            		</li>

                    <li><a href="#stage-5%3A-journeyman">Stage 5: Journeyman</a>
            		</li>

                    <li><a href="#stage-6%3A-master">Stage 6: Master</a>
            		</li>

                    <li><a href="#stage-7%3A-researcher">Stage 7: Researcher</a>
            		</li>
                </ol>
            		</li>

                    <li><a href="#behind-the-seven-stages-(productivity%2C-starting-projects%2C-%E2%80%A6)">Behind the Seven Stages (Productivity, Starting Projects, …)</a>
            
                <ol>
                    
                    <li><a href="#a.-the-productivity-curve">A. The Productivity Curve</a>
            		</li>

                    <li><a href="#b.-pilot-projects">B. Pilot Projects</a>
            		</li>

                    <li><a href="#c.-core-of-internal-%2F-external-consultants">C. Core of Internal / External Consultants</a>
            		</li>

                    <li><a href="#d.-learning-latency-vs.-lifetime-of-technique">D. Learning Latency vs. Lifetime of Technique</a>
            		</li>
                </ol>
            		</li>

                    <li><a href="#some-recommendations">Some Recommendations</a>
            		</li>
                </ol>
            </nav></div></div>
</section>

    </div>

</aside>
                    <footer></footer>
                </section>

            </div>

            <div class="hide-if-search-results-container-is-displayed row">
                <!-- Add tail here? Looks weird if aside content is long! -->
                
            </div>

            <div class="search-results-container row">
                <div class="search-results overflow-hidden"></div>
            </div>

        </div>

    </div>


        </main>

	    <!-- dynamic & custom scripts to alter rendered content -->
        <script>

    /* uses:
    EJS.CO for templating
    LUNR for search
    HE for HTML encoding (at highlight fnc.)
    */
   
    class Debouncer {
        _timeoutId = undefined;
        _wait = 250;
        _callback;

        constructor(callback, wait) {
            this._wait = wait ? wait : this._wait;
            this._callback = callback;
        }

        next(...args) {
            this.cancel();
            this._timeoutId = window.setTimeout(() => {
            this._callback.apply(null, args);
            }, this._wait);
        }

        cancel() {
            window.clearTimeout(this._timeoutId);
        }
    }

    const blogSearch = {

        _searchIndexPath: '/search.json',
        _urlPrefix: '/',
        _debounceTime: 400,

        _searchingTemplate: `
<h2>
    <i class="fa-solid fa-circle-notch fa-spin text-secondary"></i>
    <span class="text-secondary">Searching for:</span>
    <span class="text-primary"><%= searchText %></span>
</h2>
`,

        _resultTemplate_simple: `
<h2>
    <span class="text-secondary">Search results for:</span>
    <span class="text-primary"><%= searchText %></span>
</h2>

<% if (searchResults.length == 0){ %>
    <span class="no-results">We're sorry, but we couldn't find any items that match your search. Please try again with different keywords or filters...</span>
<% } %>

<ul class="items-found">
<% searchResults.forEach((sr, idx, arr) => { %>
    <li>
        <div class="search-result-item position-relative border shadow">
            <h5><%- sr.ref.title %></h5>
            <p class="x-text-nowrap x-text-truncate"><%- sr.ref.summary %></p>
            <a href="<%- urlPrefix %><%- sr.ref.url %>" class="stretched-link"></a>
        </div>
    </li>
<% }); %>
</ul>        
`,

        _resultTemplate: `
<h2>
    <span class="text-secondary">Search results for:</span>
    <span class="text-primary"><%= searchText %></span>
</h2>

<% if (searchResults.length == 0){ %>
    <span class="no-results">We're sorry, but we couldn't find any items that match your search. Please try again with different keywords or filters...</span>
<% } %>

<ul class="search-results">
<% searchResults.forEach((sr, idx, arr) => { %>
    <li>

        <div class="catalogue-item position-relative">
            
            <a class="stretched-link" href="<%- urlPrefix %><%- sr.ref.url %>"></a>
            <h3 class="catalogue-title"><%- sr.ref.title %></h3>
            <div class="catalogue-line"></div>

            <div class="catalogue-preview clearfix">
                <% if (sr.ref.image) { %>
                <img src="<%- sr.ref.image %>" class="catalogue-image img-fluid img-thumbnail"></img>
                <% } %>
                <div class="excerpt">
                    <%- sr.ref.summary %>
                </div>
            </div>

        </div>

    </li>
<% }); %>
</ul>        
`,

        _inputElements: [],
        _cancelElements: [],
        
        _updateInputs(value) {
            this._inputElements.forEach(el => el.value = value);
        },

        _setUpListeners(inputSelector, cancelSelector) {
            if (inputSelector) {
                this._inputElements = document.querySelectorAll(inputSelector);
                this._inputElements.forEach(el => el.addEventListener('keyup', evt => { if (evt.keyCode == 27) this._escapePressed(el); else this._inputValueChanged(el); } ));
            } else {
                this._inputElements = [];
            }

            if (cancelSelector) {
                this._cancelElements = document.querySelectorAll(cancelSelector);
            } else {
                this._cancelElements = [];
            }
        },

        _escapePressed(el) {
            this.clearSearch();
        },

        _inputValueChanged(el) {
            const value = el.value;
            this._updateInputs(value);
            this._debouncedSearch.next(value);
        },

        _resultContainerEls: [],
        _containersToHideEls: [],

        _setUpContainers(resultContainerSelector, containersToHideWhenResultSelector) {
            this._resultContainerEls = document.querySelectorAll(resultContainerSelector);
            this._containersToHideEls = document.querySelectorAll(containersToHideWhenResultSelector);
        },

        _showResults: false,
        _searching: false,
        _searchText: '',
        _searchResults: [],

        refreshUi() {
            const self = this;

            self._inputElements.forEach(el => el.value = self._searchText );

            const html = self._showResults
                ? self._searching
                    ? ejs.render(self._searchingTemplate, { searchText: self._searchText })
                    : ejs.render(self._resultTemplate, { urlPrefix: self._urlPrefix.replace(/\/+$/, ''), searchText: self._searchText, searchResults: self._searchResults })
                : '';

            self._resultContainerEls.forEach(el => { 
                // hide/show container
                self._showResults ? el.classList.remove("d-none") : el.classList.add("d-none")
                
                // find results element (or fallback to container) and set results
                const resultsEl = el.querySelector(".search-results");
                const displayEl = resultsEl ?? el;
                displayEl.innerHTML = self._showResults ? html : "";
            });

            self._containersToHideEls.forEach(el => self._showResults ? el.classList.add("d-none") : el.classList.remove("d-none"));          
        },

        clearSearch() {
            this._showResults = false;
            this._searchText = '';
            this._searchResults = [];
            this.refreshUi();
        },

        search(text) {

            const self = this;

            console.log('searching for: ', text);
            self._searchText = text;

            if (!text) {
                self.clearSearch();
                return;
            }

            this._searchResults = [];
            self._searching = true;
            self._showResults = true;
            this.refreshUi();

            const hasSpecial = self._lunrSpecial.some(special => text.includes(special));
            const pattern =  hasSpecial 
                ? text
                : text + "*";

            console.log('lunr pattern: ', pattern);
            const localResults = self._lunrEngine.search(pattern);

            // NOTE: just for tests...
            // console.log('total result', localResults)

            // NOTE: highlighting
            localResults.forEach(localResult => {
                // NOTE: hard. ref.
                const data = self._lunrSearchData.find(i => i.url == localResult.ref);

                const highlight = {};

                for (let term in localResult.matchData.metadata) {
                    for (let field in localResult.matchData.metadata[term]) {

                        const positions = localResult.matchData.metadata[term][field].position;

                        const fieldValue = data[field];
                        let fieldReadIndex = 0;

                        highlight[field] = "";

                        for (let position of positions) {

                            if (position[0] > fieldReadIndex)
                                highlight[field] += fieldValue.substring(fieldReadIndex, position[0]);

                            highlight[field] += ("{:::" + fieldValue.substring(position[0], position[0] + position[1]) + ":::}");

                            fieldReadIndex = position[0] + position[1];

                        }

                        highlight[field] += fieldValue.substring(fieldReadIndex);             

                    }

                }

                for (let key in highlight) {
                    let value = highlight[key];

                    const encode = false;
                    let encoded = encode
                        ? he.encode(value)
                        : value;

                    let highlighted = encoded.replace(/{:::/g, '<mark>').replace(/:::}/g, '</mark>');
                    highlight[key] = highlighted;
                }

                localResult.ref = Object.assign({}, data, highlight);
            });

            self._searchResults = localResults;

            // finally
            self._searching = false;
            self.refreshUi();
        },

        _lunrSpecial: "*+-:^~".split(''),
        _lunrSearchData: undefined,
        _lunrEngine: undefined,

        init(inputSelector, cancelSelector, resultContainerSelector, containersToHideWhenResultSelector) {

            console.log('initializing search', this);

            // set up result / hide elements
            this._setUpContainers(resultContainerSelector, containersToHideWhenResultSelector);

            // refresh
            this.refreshUi();

            fetch(this._searchIndexPath).then((response) => {
                response.json().then((raw) => {

                    // set up engine, store search data
                    this._lunrSearchData = raw;

                    this._lunrEngine = lunr(function () {
                        this.ref('url')
                        this.field('title')
                        this.field('date')
                        this.field('author')
                        this.field('summary')
                        this.field('text')

                        this.metadataWhitelist = ['position']

                        raw.forEach(function (doc) { this.add(doc) }, this)
                    });

                    // set up UI listeners
                    this._debouncedSearch = new Debouncer((args) => this.search(args), this._debounceTime);
                    this._setUpListeners(inputSelector, cancelSelector);

                    // refresh
                    this.refreshUi();
                });
            });

        }

    };

    // NOTE:
    // #search-results-container must have an additional element with a .search-results class
    // these objects (along with #global-content-view) were already set up inside main.njk
    blogSearch.init('.blog-search-input', '.blog-search-cancel', '.search-results-container', '.hide-if-search-results-container-is-displayed');

</script>


        

        


        <!-- cookie consent dependent scripts and features -->
        

    </body>

    <!-- dynamic & custom scripts that need to run after the entire "final" content is rendered -->
    <script src="/assets/js/custom/d-hide-if-empty.js"></script>
    <script src="/assets/js/custom/sticky.js"></script>

    <!-- scripts from content pages -->
    

    <script src="/assets/js/custom/menu-path-and-scroll-spy.js"></script>

</html>
